<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hardware Metrics Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            background-color: #f8f9fa;
            font-family: "Segoe UI", Tahoma, sans-serif;
        }
        .card {
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
            border-radius: 12px;
        }
        canvas {
            max-height: 450px;
        }
    </style>
</head>
<body>
<div class="container py-4">
    <h1 class="text-center mb-4">ðŸ“Š Hardware Metrics Dashboard</h1>

    <!-- Chart Card -->
    <div class="card p-4 mb-4">
        <h4 class="mb-3">System Resource Usage</h4>
        <canvas id="metricsChart"></canvas>
    </div>
</div>

<script>
    // Embed your PostgreSQL data here
    const data = [
        {ts: "2025-09-08 16:41:36", cpu: 8.33, ram: 17.28, disk: 63.81},
        {ts: "2025-09-08 16:44:16", cpu: 14.55, ram: 18.46, disk: 63.81},
        {ts: "2025-09-08 16:46:03", cpu: 9.88, ram: 17.65, disk: 63.81},
        {ts: "2025-09-08 16:46:33", cpu: 1.65, ram: 17.48, disk: 63.81},
        {ts: "2025-09-08 16:47:03", cpu: 0.99, ram: 17.20, disk: 63.81},
        {ts: "2025-09-08 16:47:33", cpu: 0.43, ram: 17.24, disk: 63.81},
        {ts: "2025-09-08 16:48:03", cpu: 1.16, ram: 17.18, disk: 63.81},
        {ts: "2025-09-08 16:48:33", cpu: 0.89, ram: 17.23, disk: 63.81},
        {ts: "2025-09-08 16:49:03", cpu: 1.10, ram: 17.22, disk: 63.81},
        {ts: "2025-09-08 16:49:32", cpu: 10.62, ram: 17.53, disk: 63.82},
        {ts: "2025-09-08 16:51:35", cpu: 8.11, ram: 17.41, disk: 63.82},
        {ts: "2025-09-08 16:52:13", cpu: 8.74, ram: 17.45, disk: 63.82},
        {ts: "2025-09-08 16:52:50", cpu: 6.48, ram: 17.44, disk: 63.83},
        {ts: "2025-09-08 16:53:27", cpu: 6.10, ram: 17.52, disk: 63.83},
        {ts: "2025-09-08 16:53:57", cpu: 1.17, ram: 17.50, disk: 63.83},
        {ts: "2025-09-08 16:54:27", cpu: 1.58, ram: 17.23, disk: 63.83},
        {ts: "2025-09-08 16:54:57", cpu: 1.11, ram: 17.24, disk: 63.83},
        {ts: "2025-09-08 16:55:27", cpu: 0.84, ram: 17.27, disk: 63.83},
        {ts: "2025-09-08 16:55:57", cpu: 0.87, ram: 17.24, disk: 63.83},
        {ts: "2025-09-08 16:56:19", cpu: 6.13, ram: 17.33, disk: 63.84},
        {ts: "2025-09-08 16:56:49", cpu: 1.24, ram: 17.25, disk: 63.84},
        {ts: "2025-09-08 16:57:19", cpu: 1.15, ram: 17.13, disk: 63.84},
        {ts: "2025-09-08 16:57:49", cpu: 0.88, ram: 17.09, disk: 63.84},
        {ts: "2025-09-08 16:58:19", cpu: 0.56, ram: 17.09, disk: 63.84},
        {ts: "2025-09-08 16:58:40", cpu: 7.49, ram: 17.14, disk: 63.84},
        {ts: "2025-09-08 16:59:10", cpu: 0.93, ram: 17.11, disk: 63.84},
        {ts: "2025-09-08 16:59:40", cpu: 0.68, ram: 17.09, disk: 63.84},
        {ts: "2025-09-08 17:00:10", cpu: 0.59, ram: 17.11, disk: 63.84},
        {ts: "2025-09-08 17:00:40", cpu: 1.02, ram: 17.14, disk: 63.84},
        {ts: "2025-09-08 17:01:10", cpu: 0.70, ram: 17.05, disk: 63.84}
    ];

    // Prepare data for Chart.js
    const labels = data.map(row => row.ts);
    const cpuData = data.map(row => row.cpu);
    const ramData = data.map(row => row.ram);
    const diskData = data.map(row => row.disk);

    // Create Chart
    const ctx = document.getElementById('metricsChart').getContext('2d');
    new Chart(ctx, {
        type: 'line',
        data: {
            labels: labels,
            datasets: [
                {
                    label: "CPU Usage (%)",
                    data: cpuData,
                    borderColor: "#ff4d4d",
                    fill: false,
                    tension: 0.3
                },
                {
                    label: "RAM Usage (%)",
                    data: ramData,
                    borderColor: "#4da6ff",
                    fill: false,
                    tension: 0.3
                },
                {
                    label: "Disk Usage (%)",
                    data: diskData,
                    borderColor: "#28a745",
                    fill: false,
                    tension: 0.3
                }
            ]
        },
        options: {
            responsive: true,
            interaction: { mode: "index", intersect: false },
            stacked: false,
            plugins: {
                legend: { position: "top" },
                tooltip: { mode: "nearest" }
            },
            scales: {
                y: { beginAtZero: true, max: 100 }
            }
        }
    });
</script>
</body>
</html>
